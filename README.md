## çµè«–ï¼ˆç¢ºå®Ÿæ€§ï¼šé«˜ï½œæ—¥ä»˜ï¼š2025-12-28 JSTï¼‰

READMEã€Œ1æšç‰ˆï¼ˆçŸ­ç¸®ç‰ˆï¼‰ã€ã«ã€**Orchestrator one-page design map ã®èª¬æ˜æ–‡**ã¨ã€**ç”»åƒãŒè¦‹ã‚Œãªã„å ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å°ç·š**ã€ã•ã‚‰ã« **ãƒ­ã‚°ï¼ˆç›£æŸ»ï¼‰ã«é–¢ã™ã‚‹å€‹äººæƒ…å ±æ³¨æ„æ–‡**ã‚’å…¥ã‚ŒãŸã€Œå®Œæˆãƒ†ã‚­ã‚¹ãƒˆï¼ˆãã®ã¾ã¾è²¼ã‚Œã‚‹ç‰ˆï¼‰ã€ã‚’ä¸‹ã«æç¤ºã—ã¾ã™ã€‚

---

## ç†ç”±ï¼ˆç¢ºå®Ÿæ€§ï¼šé«˜ï¼‰

* GitHub README ã§ã¯ç’°å¢ƒã‚„æ‹¡å¼µæ©Ÿèƒ½ãƒ»è¡¨ç¤ºå¹…ã®å½±éŸ¿ã§ **ç”»åƒãŒè¡¨ç¤ºã•ã‚Œãªã„/æ¥µå°ã«ãªã‚‹**ã“ã¨ãŒã‚ã‚Šã€**ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç›´æ¥ãƒ•ã‚¡ã‚¤ãƒ«ã¸é£›ã¹ã‚‹å°ç·š**ãŒã‚ã‚‹ã¨è©°ã¾ã‚Šã¾ã›ã‚“ã€‚
* ã‚ãªãŸã®å®Ÿè£…ã¯ **ãƒ­ã‚°ãŒç ”ç©¶ã®ä¸­å¿ƒ**ãªã®ã§ã€README ã« **PII/ç§˜å¯†æƒ…å ±ã‚’ãƒ­ã‚°ã¸å…¥ã‚Œãªã„æ³¨æ„**ã‚’æ˜è¨˜ã™ã‚‹ã¨ã€ç¬¬ä¸‰è€…ã®èª¤ç”¨ï¼ˆç”Ÿãƒ­ã‚°ã®ã‚³ãƒŸãƒƒãƒˆç­‰ï¼‰ã‚’æŠ‘æ­¢ã§ãã¾ã™ã€‚

---

## è£œè¶³ï¼ˆç¢ºå®Ÿæ€§ï¼šä¸­ï½œæ—¥ä»˜ï¼š2025-12-28 JSTï¼‰

* ç”»åƒãŒå‡ºãªã„åŸå› ã§å¤šã„ã®ã¯ã€`docs/...` ã® **ãƒ•ã‚¡ã‚¤ãƒ«åã®å¤§å°æ–‡å­—é•ã„**ãƒ»**æ‹¡å¼µå­é•ã„**ãƒ»**ãƒ‘ã‚¹é•ã„**ã§ã™ï¼ˆGitHub ã¯å¤§å°æ–‡å­—ã‚’åŒºåˆ¥ï¼‰ã€‚
* ãŸã ã—ã€ã‚ãªãŸã®ã‚¹ã‚¯ã‚·ãƒ§ã§ã¯ README ä¸Šã§è¡¨ç¤ºã§ãã¦ã„ã‚‹ã®ã§ã€ä»Šå›ã®ä¸»ç›®çš„ã¯ã€Œèª­è€…å‘ã‘ã®èª¬æ˜ã¨æ³¨æ„å–šèµ·ã®è¿½åŠ ã€ã§ã™ã€‚

---

````md
# ğŸ“˜ Maestro Orchestrator â€” Multi-Agent Orchestration Framework

<p align="center">
  <a href="https://github.com/japan1988/multi-agent-mediation/stargazers">
    <img src="https://img.shields.io/github/stars/japan1988/multi-agent-mediation?style=social" alt="GitHub Stars">
  </a>
  <a href="https://github.com/japan1988/multi-agent-mediation/issues">
    <img src="https://img.shields.io/github/issues/japan1988/multi-agent-mediation?style=flat-square" alt="Open Issues">
  </a>
  <a href="./LICENSE">
    <img src="https://img.shields.io/badge/license-Educational%20%2F%20Research-brightgreen?style=flat-square" alt="License (Policy Intent)">
  </a>
  <a href="https://github.com/japan1988/multi-agent-mediation/actions/workflows/python-app.yml">
    <img src="https://github.com/japan1988/multi-agent-mediation/actions/workflows/python-app.yml/badge.svg?branch=main" alt="CI Status">
  </a>
  <br/>
  <img src="https://img.shields.io/badge/python-3.9%2B-blue.svg?style=flat-square" alt="Python Version">
  <img src="https://img.shields.io/badge/lint-Ruff-000000.svg?style=flat-square" alt="Ruff">
  <img src="https://img.shields.io/badge/status-research--prototype-brightgreen.svg?style=flat-square" alt="Status">
</p>

## ğŸ¯ Purpose

Maestro Orchestrator is a **research-oriented orchestration framework** for supervising multiple agents (or multiple methods) with **fail-closed** safety.

- **STOP**: Halt execution on errors / hazards / undefined specs
- **REROUTE**: Re-route only when explicitly safe (avoid fail-open reroute)
- **HITL**: Escalate to humans for ambiguous or high-stakes decisions

## ğŸ§­ Diagrams

### 1) System overview
<p align="center">
  <img src="docs/multi_agent_architecture_overview.webp" width="720" alt="System Overview">
</p>

### 2) Orchestrator one-page design map
**Decision flow map (implementation-aligned):**  
`mediator_advice â†’ Meaning â†’ Consistency â†’ RFL â†’ Ethics â†’ ACC â†’ DISPATCH`  
Designed to be **fail-closed**: if risk/ambiguity is detected, it falls back to `PAUSE_FOR_HITL` or `STOPPED` and logs **why**.

<p align="center">
  <img src="docs/orchestrator_onepage_design_map.png" width="920" alt="Orchestrator one-page design map">
</p>

If the image is not visible (or too small), open it directly:  
- `docs/orchestrator_onepage_design_map.png`

### 3) Context flow
<p align="center">
  <img src="docs/sentiment_context_flow.png" width="720" alt="Context Flow Diagram">
</p>

- **Perception** â€” Decompose input into executable elements (tasking)
- **Context** â€” Extract assumptions/constraints/risk factors (guard rationale)
- **Action** â€” Instruct agents, verify results, branch (STOP / REROUTE / HITL)

## ğŸ§¾ Audit log & data safety (IMPORTANT)

This project produces **audit logs** for reproducibility and accountability.  
Because logs may outlive a session and may be shared for research, **treat logs as sensitive artifacts**.

- **Do not include personal information (PII)** (emails, phone numbers, addresses, real names, account IDs, etc.) in prompts, test vectors, or logs.
- Prefer **synthetic / dummy data** for experiments.
- Avoid committing runtime logs to the repository. If you must store logs locally, apply **masking**, **retention limits**, and **restricted directories**.
- Recommended minimum fields: `run_id`, `session_id`, `timestamp`, `layer`, `decision`, `reason_code`, `evidence`, `policy_version`.

## âš™ï¸ Execution Examples

> Note: Modules that evoke â€œpersuasion / reeducationâ€ are intended for **safety-evaluation scenarios only** and should be **disabled by default** unless explicitly opted-in.

```bash
python ai_mediation_all_in_one.py
python kage_orchestrator_diverse_v1.py
python ai_doc_orchestrator_kage3_v1_2_2.py
python ai_governance_mediation_sim.py
````

## ğŸ§ª Tests

```bash
pytest -q
pytest -q tests/test_definition_hitl_gate_v1.py
pytest -q tests/test_kage_orchestrator_diverse_v1.py
pytest -q test_ai_doc_orchestrator_kage3_v1_2_2.py
```

CI runs lint/pytest via `.github/workflows/python-app.yml`.

## ğŸ“Œ License

See `LICENSE`.
Repository license: **Apache-2.0** (policy intent: Educational / Research).

```

--- 

å¿…è¦ãªã‚‰ã€ä¸Šã®ã€ŒIf the image is not visibleâ€¦ã€è¡Œã‚’ **ãƒªãƒ³ã‚¯åŒ–**ã—ãŸç‰ˆï¼ˆ`[docs/orchestrator_onepage_design_map.png](docs/orchestrator_onepage_design_map.png)`ï¼‰ã«ã‚‚ã§ãã¾ã™ã€‚
::contentReference[oaicite:0]{index=0}
```
